# Railway Spring Boot Configuration with Oracle Cloud Autonomous Database

# JSP Configuration (Explicit for Railway)
spring.mvc.view.prefix=/WEB-INF/jsp/
spring.mvc.view.suffix=.jsp

# Oracle Cloud connection using wallet
spring.datasource.url=jdbc:oracle:thin:@nm0uo1ntyefptn5b_medium
spring.datasource.username=${ORACLE_USER}
spring.datasource.password=${ORACLE_PASSWORD}
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# Connection pool settings (optimized for Railway)
spring.datasource.hikari.maximum-pool-size=3
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.connection-timeout=60000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# MyBatis
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.mapper-locations=classpath:mybatis/mapper/*.xml
mybatis.type-aliases-package=com.tp.mes

# Server
server.port=${PORT:8090}
server.compression.enabled=true

# Logging
logging.level.root=INFO
logging.level.com.tp.mes=DEBUG
logging.level.org.springframework.web=INFO

# Session
server.servlet.session.timeout=30m

# Actuator
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true
# Disable DB check in health endpoint to prevent 503 on cold start
management.health.db.enabled=false
management.health.defaults.enabled=true
